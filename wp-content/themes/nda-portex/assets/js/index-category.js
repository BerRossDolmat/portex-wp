var $ = jQuery;

$(document).ready(function() {
    placeCards();

    // on window resize this handler is called to clean previous classes that 
    // were generated by placeCards function, and reruns this function

    var width = $(window).width();
    $(window).resize(function(){
        if($(this).width() != width){
            width = $(this).width();
            $('.minicard').removeClass().addClass('minicard animate-fadein');
            placeCards();
        }
    });
});


// Function that calculates window width and maximum number of cards in row and adjusts classes for last elements

function placeCards() {
    var windowWidth = window.innerWidth;
    if (windowWidth > 1280) {
        windowWidth = 1280;
    }
    var cardsLength = $('.minicard').length;
    var cardsWidth = $('.minicard').first().outerWidth();

    var cardsInRow = Math.floor(windowWidth / cardsWidth);

    var elementsToAddCount = cardsLength % cardsInRow;
    if (elementsToAddCount != 0) {
        $('.minicard').slice(-elementsToAddCount).addClass(`class${elementsToAddCount}of${cardsInRow}`);
    }
}